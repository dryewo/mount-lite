<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>Troubleshooting</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Mount-lite</span> <span class="project-version">2.0.0-SNAPSHOT</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1 "><a href="01-basics.html"><div class="inner"><span>The basics</span></div></a></li><li class="depth-1 "><a href="02-substitutions.html"><div class="inner"><span>Substitutions</span></div></a></li><li class="depth-1 "><a href="03-start-stop-options.html"><div class="inner"><span>Start up to / stop down to</span></div></a></li><li class="depth-1 "><a href="04-systems-of-states.html"><div class="inner"><span>Multiple systems of states</span></div></a></li><li class="depth-1 "><a href="05-extension-point.html"><div class="inner"><span>Extension point</span></div></a></li><li class="depth-1 "><a href="06-migrating-to-2.html"><div class="inner"><span>Migrating to 2.x</span></div></a></li><li class="depth-1  current"><a href="07-troubleshooting.html"><div class="inner"><span>Troubleshooting</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>mount</span></div></div></li><li class="depth-2"><a href="mount.lite.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>lite</span></div></a></li></ul></div><div class="document" id="content"><div class="doc"><div class="markdown"><h1><a href="#troubleshooting" name="troubleshooting"></a>Troubleshooting</h1>
<h2><a href="#why-does-the-defstate-that-i-added-in-a-repl-session-not-get-started-between-the-defstates-where-i-defined-it-" name="why-does-the-defstate-that-i-added-in-a-repl-session-not-get-started-between-the-defstates-where-i-defined-it-"></a>Why does the <em>defstate</em> that I added in a REPL session not get started between the defstates where I defined it?</h2>
<p>Each <code>defstate</code> gets an order sequence number when they are loaded for the first time. So adding a new <code>defstate</code> in a live session, means that that state will have the highest sequence number. Restarting the JVM is one way to fix this. If you really need/want to keep the JVM running, you could also swap in the namespace pointing to new defstate in <a href="05-extension-point.html">the *states* root atom</a>.</p>
<h2><a href="#why-do-i-get-an-exception-or-a-value-from-a-different-session-when-i-access-a-state-" name="why-do-i-get-an-exception-or-a-value-from-a-different-session-when-i-access-a-state-"></a>Why do I get an exception, or a value from a different session, when I access a state?</h2>
<p>By spawning a new thread with a new system of states using the <code>with-session</code> macro, the subthreads spawned from that session automatically use the system of states from that session. But, if you use threads in your session that were created <em>outside</em> of your session, those threads use the system of states from the (root) session in which they were created. So, do keep in mind that <code>future</code>s and <code>agent</code>s use global ThreadPools from the Clojure runtime. There are simple ways to work around this though, and mount-lite may even provide utilities for this at a later stage.</p></div></div></div></body></html>