<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>Troubleshooting</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Mount-lite</span> <span class="project-version">0.9.8</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1 "><a href="01-basics.html"><div class="inner"><span>The basics</span></div></a></li><li class="depth-1 "><a href="02-substitutions.html"><div class="inner"><span>Substitutions</span></div></a></li><li class="depth-1 "><a href="03-start-stop-options.html"><div class="inner"><span>Start/stop options</span></div></a></li><li class="depth-1 "><a href="04-reloading.html"><div class="inner"><span>Reloading defstates</span></div></a></li><li class="depth-1 "><a href="05-parallelism.html"><div class="inner"><span>Parallelism</span></div></a></li><li class="depth-1 "><a href="06-bindings.html"><div class="inner"><span>Bindings</span></div></a></li><li class="depth-1  current"><a href="07-troubleshooting.html"><div class="inner"><span>Troubleshooting</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>mount</span></div></div></li><li class="depth-2"><a href="mount.lite.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>lite</span></div></a></li></ul></div><div class="document" id="content"><div class="doc"><div class="markdown"><h1><a href="#troubleshooting" name="troubleshooting"></a>Troubleshooting</h1>
<h2><a href="#why-does-the-that-i-added-in-a-repl-session-not-get-started-between-the-defstates-where-i-defined-it-" name="why-does-the-that-i-added-in-a-repl-session-not-get-started-between-the-defstates-where-i-defined-it-"></a>Why does the <code>defstate</code> that I added in a REPL session not get started between the defstates where I defined it?</h2>
<p>Each <code>defstate</code> gets an order sequence number when they are loaded for the first time. So adding a new <code>defstate</code> in a live session, means that that state will have the highest sequence number. Restarting the JVM is one way to fix this. Another more advanced way to fix this, is the following:</p>
<pre><code class="clj">;; Define your new defstate somewhere:
(defstate shiny ...)

;; Update the :mount.lite/order metadata key with the correct number.
;; Luckily the order sequence number is incremented by 10, so there must som space left.
(alter-meta! #&#39;shiny assoc :mount.lite/order &lt;an-order-number-that-is-between-its-dependents-and-dependencies&gt;)
</code></pre>
<h2><a href="#why-does-the-dependency-graph-used-in-and-not-see-the-dependency-of-a-namespace-i-just-added-" name="why-does-the-dependency-graph-used-in-and-not-see-the-dependency-of-a-namespace-i-just-added-"></a>Why does the dependency graph (used in <code>:up-to</code> and <code>:parallel</code>) not see the dependency of a namespace I just added?</h2>
<p>The namespaces of the Clojure files are read by the <a href="https://github.com/clojure/tools.namespace">tools.namespace</a> library. This means that the <code>(ns ...)</code> forms are read from the file system. If you only made your changed in the REPL, tools.namespace won&rsquo;t see them. Also, if you made your changes in a file from a <a href="https://github.com/technomancy/leiningen/blob/master/doc/TUTORIAL.md#checkout-dependencies">checkout</a> dependency, tools.namespace won&rsquo;t see the changes either! In the latter case, you&rsquo;ll have to install the dependency again.</p>
<h2><a href="#why-do-i-get-the-error-" name="why-do-i-get-the-error-"></a>Why do I get the error <code>No such var: parse/name-from-ns-decl</code>?</h2>
<p>Mount-lite depends on the <code>0.3.0</code> version of <a href="https://github.com/clojure/tools.namespace">tools.namespace</a>. Older versions do not contain the mentioned var. Make sure your dependencies are set up correctly, also in your (REPL) profile. A leiningen upgrade can help as well.</p></div></div></div></body></html>